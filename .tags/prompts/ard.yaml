parameters:
  temperature: null
  topP: null
  topK: null
  frequencyPenalty: null
  presencePenalty: null
  maxOutputTokens: null
  stopSequences: null

defaults:
  business-requirements: "file://docs/2026-01-12 - br.md"
  deployable-units: file://docs/ard-tema2_2026-01-15.md:155-165
  external-entities: file://docs/ard-tema2_2026-01-15.md:102-115
  max-short-problem-description-words: 50
  personas: file://docs/ard-tema2_2026-01-15.md:48-60
  use-cases: file://docs/ard-tema2_2026-01-15.md:64-98

system: |
  You are a helpful and precise AI assistant.
  Provide clear, accurate, and direct responses to the user's instructions.

prompts:
  - id: "_01_ShortProblemDescription"
    template: |
      Given the following business requirements:
      {{business-requirements}}
      
      Your task is to create a "short problem description" that can be used as a subtitle 
      using at most {{max-short-problem-description-words}} words.
    gateway: "#tags+"
    plus: null

  - id: "_02_PersonaIdentification"
    template: |
      Given the following business requirements:
      {{business-requirements}}
      
      Your task is to identify all personas (types of human users or roles) the described system could interact with.
      
      Present first a minimal set of personas the system should support - make sure 
      that each requirement is linked to at least one persona in this case.
      
      Also propose an exhaustive list of personas that the system could support.
      
      Response formatting:
      - list personas as a markdown numbered list
      - persona names should be rendered in bold and after that add a column and a brief intuitive explanation of that persona (max 10 words)
      - explain in a sublist why that persona is required linking each explanation to the corresponding requirement

      
      An example persona rendering output:
      
      1. **Role**: brief role description
        - R3: Role needs to exist because ...

    gateway: "#tags+"

  - id: "_03_UseCaseGenerator"
    template: |
      Given the following business requirements
      
      ```business-requirements
      {{business-requirements}}
      ```
      
      and the following personas
      
      ```personas
      {{personas}}
      ```
      
      Your task is to generate the most relevant use cases for each persona.
      
      Constraints:
      - make sure that all business requirements are covered
      - structure each use case using the following pattern: As a <type of user>, I want <some goal>, so that <some reason/benefit>.

    gateway: "#tags+"
    plus: null

  - id: "_04_SystemBoundaryIdentification"
    template: |
      Given the following business requirements
      
      ```business-requirements
      {{business-requirements}}
      ```
      
      and the following personas
      
      ```personas
      {{personas}}
      ```
      
      and the following use cases
      
      ```use-cases
      {{use-cases}}
      ```
      
      Your task is to exhaustively identify all the separate external entities the system will have to interact to.
      Consider mainly the external entities that should be present in a Context Diagram (C4 model).

    gateway: "#tags+"
    plus: null

  - id: "_05_C4_ContextDiagram"
    template: |
      Given the following business requirements

      ```business-requirements
      {{business-requirements}}
      ```

      and the following use cases

      ```use-cases
      {{use-cases}}
      ```
      
      and the following external entities

      ```external-entities
      {{external-entities}}
      ```

      Your task is to generate a Context Diagram (C4 model) using Mermaid.
      
      Constraints:
      - human actors are **external** to the system
      - you can use different visual markers / icons for human and non human entities
      - only render the diagram with nice arrows and labels but without textual explanations

    gateway: "#tags+"
    plus: null

  - id: "_06_IdentifyDeployableUnits"
    template: |
      Given the following business requirements

      ```business-requirements
      {{business-requirements}}
      ```

      and the following use cases

      ```use-cases
      {{use-cases}}
      ```

      and the following external entities

      ```external-entities
      {{external-entities}}
      ```

      Your task is to identify the deployment units as required ina  Component Diagram (C4 model).

      Suggestions:
      - when creating the deployable units refrain from specifying a certain technology - keep it generic

    gateway: "chat"
    plus: null

  - id: "_07_C4_ComponentDiagram"
    template: |
      Given the following business requirements

      ```business-requirements
      {{business-requirements}}
      ```

      and the following use cases

      ```use-cases
      {{use-cases}}
      ```

      and the following external entities

      ```external-entities
      {{external-entities}}
      ```
      
      and the following deployable units
      ```deployable-units
      {{deployable-units}}
      ```

      Your task is to generate a Component Diagram (C4 model) using Mermaid.

      Suggestions:
      - make sure that all external-entities and all deployable-units appear in the diagram in clear and sensible relations
      - always add clear action labels to the arrows 
      - try to group external entities into logical clusters based on the deployable units they are communicating with

    gateway: "chat"
    plus: null